<!DOCTYPE html>
<html>
	<head>
		<title>Flare Dota Model Viewer</title>
		
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.4/slate/bootstrap.min.css" rel="stylesheet">
		<link href="bootstrapXL.css" rel="stylesheet">
		
		<link href='http://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
		
		<style>
			body
			{
				background: #040404 url(Black_Texture___Ray_by_Ethenyl.jpg) right center no-repeat;
				margin-bottom: 10px;
			}
			.navbar {
				margin-bottom: 0;
			}
			#canvasdiv
			{
				overflow: hidden;
				height: 640px;
				border-bottom: 3px solid #000;
				text-align: center;
			}
			canvas.emscripten { 
				border: 0px none; 
				margin: 0 auto;
			}
			#control
			{
				padding-top: 15px;
			}
			#control h1
			{
				margin-top: 0;
				font-size: 60px;
				font-family: 'Montserrat', sans-serif;
			}
			#control h2
			{
				font-size: 18px;
				font-family: 'Montserrat', sans-serif;
				color: #555;
			}
			#control h2 b
			{
				color: rgb(200, 200, 200);
			}
			
			@media (min-width: 1600px) {
				#canvasdiv
				{
					text-align: left;
				}
				#control
				{
					text-align: right;
				}
			}
		</style>
		
		<script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	</head>
	<body>
		<nav class="navbar navbar-default">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">
						Flare
					</a>
				</div>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Link 1</a></li>
						<li><a href="#">Link 2</a></li>
					</ul>
					<p class="navbar-text" id="status">Working...</p>
				</div>
			</div>
		</nav>
		<div class="container" id="content">
			<div class="row">
				<div class="col-lg-12 col-xl-8 col-xl-push-4" id="canvasdiv">
					<canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()"></canvas>
				</div>
				<div class="col-lg-12 col-xl-4 col-xl-pull-8" id="control">
					<div class="row">
						<div class="col-lg-4 col-xl-12">
							<!--  <h1>Ancient Apparition</h1>
							<h2><b>Kaldr</b> the <b>Ancient Apparition</b></h2> -->
							<h1>Axe</h1>
							<h2><b>Mogul Khan,</b> the <b>Axe</b></h2>
						</div>
						<div class="visible-xl-block col-xl-12">
							<hr />
						</div>
						<div class="col-lg-8 col-xl-12">
							Equipment list goes here	
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Flare engine starter -->
		<script type='text/javascript'>
			var statusElement = document.getElementById('status');
			//var progressElement = document.getElementById('progress');

			var Module = {
				preRun: [],
				postRun: [],
				print: (function() {
					var element = document.getElementById('output');
					if (element) element.value = ''; // clear browser cache
					return function(text) {
						if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
						// These replacements are necessary if you render to raw HTML
						//text = text.replace(/&/g, "&amp;");
						//text = text.replace(/</g, "&lt;");
						//text = text.replace(/>/g, "&gt;");
						//text = text.replace('\n', '<br>', 'g');
						console.log(text);
						if (element) {
							element.value += text + "\n";
							element.scrollTop = element.scrollHeight; // focus on bottom
						}
					};
				})(),
				printErr: function(text) {
					if (arguments.length > 1) text = Array.prototype.slice.call(arguments).join(' ');
					if (0) { // XXX disabled for safety typeof dump == 'function') {
						dump(text + '\n'); // fast, straight to the real console
					} else {
						console.error(text);
					}
				},
				canvas: (function() {
					var canvas = document.getElementById('canvas');

					// As a default initial behavior, pop up an alert when webgl context is lost. To make your
					// application robust, you may want to override this behavior before shipping!
					// See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
					canvas.addEventListener("webglcontextlost", function(e) { alert('WebGL context lost. You will need to reload the page.'); e.preventDefault(); }, false);

					return canvas;
				})(),
				setStatus: function(text) {
					if (!Module.setStatus.last) Module.setStatus.last = { time: Date.now(), text: '' };
					if (text === Module.setStatus.text) return;
					var m = text.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/);
					var now = Date.now();
					if (m && now - Date.now() < 30) return; // if this is a progress update, skip it if too soon
					if (m) {
						text = m[1];
						//progressElement.value = parseInt(m[2])*100;
						//progressElement.max = parseInt(m[4])*100;
						//progressElement.hidden = false;
						//spinnerElement.hidden = false;
					} else {
						//progressElement.value = null;
						//progressElement.max = null;
						//progressElement.hidden = true;
						//if (!text) spinnerElement.style.display = 'none';
					}
					statusElement.innerHTML = text;
				},
				totalDependencies: 0,
				monitorRunDependencies: function(left) {
					this.totalDependencies = Math.max(this.totalDependencies, left);
					Module.setStatus(left ? 'Preparing... (' + (this.totalDependencies-left) + '/' + this.totalDependencies + ')' : 'All downloads complete.');
				}
			};
			Module.setStatus('Downloading...');
			window.onerror = function(event) {
				// TODO: do not warn on ok events like simulating an infinite loop or exitStatus
				Module.setStatus('Exception thrown, see JavaScript console');
				//spinnerElement.style.display = 'none';
				Module.setStatus = function(text) {
					if (text) Module.printErr('[post-exception status] ' + text);
				};
			};
		</script>
		<script async type="text/javascript" src="raw.js"></script>
	</body>
</html>